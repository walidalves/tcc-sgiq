@model Sgiq.Dados.Models.Projeto

@{
    ViewData["Title"] = "Detalhes do Projeto";
}

<div class="col-lg-12">
    <div class="card mt-3">
        <div class="card-header">
            Dados do projeto
        </div>
        <div class="card-body">
            <dl>
                <dt class="row">
                    @Html.DisplayNameFor(model => model.Nome)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Nome)
                </dd>
                <dt class="row">
                    @Html.DisplayNameFor(model => model.Descricao)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.Descricao)
                </dd>
                <dt class="row">
                    @Html.DisplayNameFor(model => model.DtInicioPrevista)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.DtInicioPrevista)
                </dd>
                <dt class="row">
                    @Html.DisplayNameFor(model => model.DtTerminoPrevista)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.DtTerminoPrevista)
                </dd>
                <dt class="row">
                    @Html.DisplayNameFor(model => model.CustoEstimado)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.CustoEstimado)
                </dd>
            </dl>
        </div>
    </div>

    <div class="card mt-3">
        <div class="card-header">
            Atividades
        </div>
        <div class="card-body">
            <div class="row mt-3 mb-1">
                <div class="col-md-12">
                    <div class="pull-right">
                        <a href="@Url.Action("Create", "Atividade", new {ProjetoId = Model.ProjetoId })" class="btn btn-primary"><i class="fa fa-plus"></i> <span>Novo</span></a>
                    </div>
                </div>
            </div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>
                            Nome
                        </th>
                        <th>
                            Descrição
                        </th>
                        <th>
                            Data de Início Previsto
                        </th>
                        <th>
                            Data de Fim Previsto
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Atividades != null && Model.Atividades.AsEnumerable().Any())
                    {

                        @foreach (Sgiq.Dados.Models.Atividade item in Model.Atividades)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Nome)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Descricao)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.DtInicioPrevista)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.DtTerminoPrevista)
                                </td>
                                <td>
                                    <a asp-action="Edit" asp-controller="Requisito" asp-route-id="@item.AtividadeId" asp-route-projeto-id="@Model.ProjetoId">Edit</a> |
                                    <a asp-action="Delete" asp-controller="Requisito" asp-route-id="@item.AtividadeId" asp-route-projeto-id="@Model.ProjetoId">Delete</a>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="5">Nenhum Registro Encontrado</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    <div class="card mt-3">
        <div class="card-header">
            Requisitos
        </div>
        <div class="card-body">
            <div class="row mt-3 mb-1">
                <div class="col-md-12">
                    <div class="pull-right">
                        <a href="@Url.Action("Create", "Requisito", new {ProjetoId = Model.ProjetoId })" class="btn btn-primary"><i class="fa fa-plus"></i> <span>Novo</span></a>
                    </div>
                </div>
            </div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>
                            Descrição
                        </th>
                        <th>
                            Tipo de Requisito
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.Requisitos != null && Model.Requisitos.AsEnumerable().Any())
                    {

                        @foreach (Sgiq.Dados.Models.Requisito item in Model.Requisitos)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Descricao)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TipoRequisito.Nome)
                                </td>
                                <td>
                                    <a asp-action="Edit" asp-controller="Requisito" asp-route-id="@item.RequisitoId" asp-route-projeto-id="@Model.ProjetoId">Edit</a> |
                                    <a asp-action="Delete" asp-controller="Requisito" asp-route-id="@item.RequisitoId" asp-route-projeto-id="@Model.ProjetoId">Delete</a>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="3">Nenhum Registro Encontrado</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    <div class="card mt-3">
        <div class="card-header">
            Partes Interessadas
        </div>
        <div class="card-body">
            <div class="row mt-3 mb-1">
                <div class="col-md-12">
                    <div class="pull-right">
                        <a href="@Url.Action("Create", "ParteInteressadaProjeto", new {ProjetoId = Model.ProjetoId })" class="btn btn-primary"><i class="fa fa-plus"></i> <span>Novo</span></a>
                    </div>
                </div>
            </div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>
                            Parte Interessada
                        </th>
                        <th>
                            Papel
                        </th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model.PartesInteressadasProjeto != null && Model.PartesInteressadasProjeto.AsEnumerable().Any())
            {

                        @foreach (Sgiq.Dados.Models.ParteInteressadaProjeto item in Model.PartesInteressadasProjeto)
                {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ParteInteressada.Nome)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Papel.Nome)
                                </td>
                                <td>
                                    
                                    <a class="btn btn-xs btn-danger" href="@Url.Action("Delete", "ParteInteressadaProjeto", new {ProjetoId = Model.ProjetoId, ParteInteressadaId = item.ParteInteressadaId })"><i class="fa fa-trash"></i></a>
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="4">Nenhum Registro Encontrado</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>